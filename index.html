<script>
    const notesData = {
        'MA110': `
            <h2>MA110 - Mathematics Notes</h2>
            <ul>
                <li>Limits and Continuity: Concepts, Examples, and Techniques</li>
                <li>Differentiation: Rules, Applications, and Problem Solving</li>
                <li>Integration: Indefinite and Definite Integrals</li>
            </ul>
        `,
        'PH110': `
            <h2>PH110 - Physics Notes</h2>
            <ul>
                <li>Work, Power, and Energy: Formulas & Examples</li>
                <li>Newton's Laws: Concepts and Applications</li>
                <li>Gravitation: Free Fall, Satellites, and Orbits</li>
            </ul>
        `,
        'CH110': `
            <h2>CH110 - Chemistry Notes</h2>
            <ul>
                <li>Atomic Structure: Electrons, Protons, and Neutrons</li>
                <li>Chemical Bonding: Ionic, Covalent, Metallic</li>
                <li>Thermochemistry: Enthalpy, Heat Transfer, and Reactions</li>
            </ul>
        `
    };

    function showNotes(subject) {
        document.getElementById('notes').innerHTML = notesData[subject] || '<p>No notes available.</p>';
    }

    // ==================== QUIZ DATA ====================
    const quizData = {
        'CH110': [
            {
                question: "Define Atomic Number.",
                answer: "The number of protons in the nucleus of an atom.",
                explanation: "Atomic number determines the element and is equal to the number of protons."
            },
            {
                question: "Explain the difference between Ionic and Covalent bonding.",
                answer: "Ionic bonding is the transfer of electrons; covalent bonding is the sharing of electrons.",
                explanation: "In ionic bonds, one atom gives electrons to another; covalent bonds share electrons between atoms."
            },
            {
                question: "What is the molar mass of H2O?",
                answer: "18 g/mol",
                explanation: "H2O has 2 H (1 g/mol each) and 1 O (16 g/mol): 1+1+16=18 g/mol."
            }
        ],
        'PH110': [
            {
                question: "What is a vector?",
                answer: "A quantity that has both magnitude and direction.",
                explanation: "Examples include velocity, force, and displacement."
            },
            {
                question: "State Newton's Second Law.",
                answer: "Force equals mass times acceleration (F=ma).",
                explanation: "This law explains how the motion of an object changes when a force is applied."
            },
            {
                question: "Define gravitational potential energy.",
                answer: "Energy an object has due to its position in a gravitational field.",
                explanation: "GPE = m * g * h, where m=mass, g=gravity, h=height."
            }
        ],
        'MA110': [
            {
                question: "Find the derivative of f(x) = x^2.",
                answer: "f'(x) = 2x",
                explanation: "Using the power rule: d(x^n)/dx = n*x^(n-1)."
            },
            {
                question: "Evaluate the limit: lim(x‚Üí0) (sin x)/x.",
                answer: "1",
                explanation: "This is a standard trigonometric limit."
            },
            {
                question: "Integrate ‚à´2x dx.",
                answer: "x^2 + C",
                explanation: "Use the power rule for integration: ‚à´x^n dx = x^(n+1)/(n+1) + C."
            }
        ]
    };

    let currentQuiz = [];
    let currentQuestionIndex = 0;

    function startQuiz(subject) {
        if (!quizData[subject]) {
            alert("No quiz available for this subject.");
            return;
        }
        currentQuiz = quizData[subject];
        currentQuestionIndex = 0;
        showQuizQuestion();
    }

    function showQuizQuestion() {
        if (currentQuestionIndex >= currentQuiz.length) {
            document.getElementById('notes').innerHTML = "<p>üéâ You've completed the quiz!</p>";
            return;
        }

        const q = currentQuiz[currentQuestionIndex];
        document.getElementById('notes').innerHTML = `
            <h3>Question ${currentQuestionIndex + 1}</h3>
            <p>${q.question}</p>
            <input type="text" id="userAnswer" placeholder="Type your answer here" style="width: 80%; padding: 10px;">
            <button onclick="checkAnswer()">Submit</button>
            <p id="feedback" style="margin-top:15px;"></p>
        `;
    }

    function checkAnswer() {
        const userAns = document.getElementById('userAnswer').value.trim();
        const q = currentQuiz[currentQuestionIndex];

        const feedback = userAns.toLowerCase() === q.answer.toLowerCase()
            ? "‚úÖ Correct!" 
            : `‚ùå Not quite. Correct Answer: ${q.answer}`;

        document.getElementById('feedback').innerHTML = `${feedback}<br><em>Explanation:</em> ${q.explanation}`;

        currentQuestionIndex++;
        setTimeout(showQuizQuestion, 3000);
    }

    // ==================== AI HELPER & DICTIONARY ====================
    function askAI() {
        const question = document.getElementById('aiQuestion').value;
        if(!question) return alert('Please type a question first.');
        document.getElementById('aiAnswer').innerHTML = `ü§ñ AI Answer: This is where a detailed explanation for "${question}" would appear.`;
    }

    function searchDict() {
        const term = document.getElementById('dictTerm').value;
        if(!term) return alert('Please enter a term.');
        const dictionary = {
            'Energy': 'The capacity to do work or produce heat.',
            'Force': 'An influence that changes the motion of an object.',
            'Atom': 'The smallest unit of matter that retains the properties of an element.',
            'Vector': 'A quantity that has both magnitude and direction, like force or velocity.',
            'Mole': 'A unit representing 6.022 x 10^23 particles of a substance.'
        };
        document.getElementById('dictResult').innerHTML = dictionary[term] || 'Term not found in dictionary.';
    }
</script>
