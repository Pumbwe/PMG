<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PMG‚Ñ¢EDU | All Courses</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #0f0f0f;
    color: #f0f0f0;
    text-align: center;
    padding: 20px;
}
h1 {
    color: #FFD700;
}
.courses {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(120px,1fr));
    gap: 15px;
    max-width: 800px;
    margin: auto;
}
.course {
    background: #1b1b1b;
    padding: 20px;
    border-radius: 12px;
    cursor: pointer;
}
.course h3 {
    color: #FFD700;
}
.section {
    margin-top: 30px;
    background: #1b1b1b;
    padding: 20px;
    border-radius: 12px;
    max-width: 800px;
    margin: auto;
}
.paper-btn {
    width: 100%;
    padding: 12px;
    margin: 6px 0;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    background: linear-gradient(135deg,#FFD700,#cfa100);
    color: #111;
}
.locked {
    background: #555;
    color: #ccc;
}
.pay-box {
    margin-top: 20px;
    font-size: 0.95rem;
}
.admin {
    margin-top: 20px;
}
</style>
</head>

<body>

<h1>PMG‚Ñ¢EDU</h1>
<p>All Courses ‚Ä¢ Monthly Subscription: <b>K25</b></p>

<div class="courses">
    <div class="course" onclick="loadCourse('MA110')"><h3>MA110</h3></div>
    <div class="course" onclick="loadCourse('BI110')"><h3>BI110</h3></div>
    <div class="course" onclick="loadCourse('CH110')"><h3>CH110</h3></div>
    <div class="course" onclick="loadCourse('CS110')"><h3>CS110</h3></div>
    <div class="course" onclick="loadCourse('PH110')"><h3>PH110</h3></div>
</div>

<div id="papers" class="section">
    <p>Select a course to view papers.</p>
</div>

<div class="pay-box">
    <p><b>Pay K25 Monthly</b></p>
    <p>üì± MTN: <b>0775302886</b><br>
       üì± Airtel: <b>0768497390</b></p>
    <a href="https://wa.me/260775302886" target="_blank">üì≤ WhatsApp Admin</a>
</div>

<div class="admin">
    <button onclick="activate()">üîì Admin Activate (30 Days)</button>
</div>

<script>
const years = [2018,2019,2020,2021,2022,2023,2024];
const demoYears = [2018,2019,2020,2021,2022]; // 5 demo papers

function isActive() {
    const exp = localStorage.getItem("sub_expiry");
    return exp && Date.now() < exp;
}

function loadCourse(course) {
    let html = `<h2>${course} Past Papers</h2>`;

    years.forEach(y => {
        const isDemo = demoYears.includes(y);
        if (isDemo) {
            html += `
            <button class="paper-btn"
            onclick="openPaper('${course}',${y})">
            ${course} ‚Äì ${y} (DEMO)
            </button>`;
        } else {
            html += `
            <button class="paper-btn locked"
            onclick="locked()">
            ${course} ‚Äì ${y} üîí
            </button>`;
        }
    });

    document.getElementById("papers").innerHTML = html;
}

function openPaper(course,year) {
    window.open(`past-papers/${course}/${course}-${year}.pdf`,'_blank');
}

function locked() {
    if (!isActive()) {
        alert(
`üîí Locked Content

Monthly subscription is K25.

Pay via:
MTN: 0775302886
Airtel: 0768497390

Then WhatsApp admin for activation.`
        );
    }
}

function activate() {
    const code = prompt("Admin code:");
    if (code !== "PMG25") {
        alert("‚ùå Wrong code");
        return;
    }
    const expiry = Date.now() + (30 * 24 * 60 * 60 * 1000);
    localStorage.setItem("sub_expiry", expiry);
    alert("‚úÖ Subscription active for 30 days");
}
</script>

</body>
</html> 
